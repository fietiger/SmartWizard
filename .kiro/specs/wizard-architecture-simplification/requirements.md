# 向导架构简化需求文档

## 介绍

当前的SmartWizard实现存在不必要的复杂性和重复代码。用户需要创建自定义的WizardDialogView和继承WizardDialogViewModel的类，而实际上他们只想提供具体的步骤ViewModels。本需求旨在简化架构，让用户只需要提供Step1ViewModel、Step2ViewModel等步骤，而无需创建额外的对话框视图和ViewModel。

## 需求

### 需求 1: 简化向导创建流程

**用户故事:** 作为开发者，我希望只需要提供步骤ViewModels就能创建向导，而不需要创建额外的对话框视图和ViewModel，这样可以减少样板代码并提高开发效率。

#### 验收标准

1. WHEN 开发者想要创建向导 THEN 系统应该允许直接传入步骤ViewModels列表而无需创建自定义对话框ViewModel
2. WHEN 开发者调用WizardService.ShowWizard THEN 系统应该能够接受步骤ViewModels作为参数
3. WHEN 向导显示时 THEN 系统应该使用通用的WizardDialogView而不需要为每个向导创建专门的视图

### 需求 2: 消除重复的视图代码

**用户故事:** 作为开发者，我希望不需要为每个向导创建几乎相同的XAML视图文件，这样可以减少维护成本并保持一致性。

#### 验收标准

1. WHEN 系统显示任何向导 THEN 应该使用统一的WizardDialogView
2. WHEN 不同向导需要不同的样式 THEN 系统应该通过配置或主题来支持而不是重复视图代码
3. WHEN 向导包含不同的步骤 THEN 系统应该通过DataTemplate自动渲染步骤内容

### 需求 3: 保持现有功能完整性

**用户故事:** 作为现有用户，我希望简化后的架构仍然支持所有现有功能，这样不会影响已有的向导实现。

#### 验收标准

1. WHEN 使用简化的API THEN 向导应该支持前进、后退、取消操作
2. WHEN 向导完成 THEN 系统应该能够收集所有步骤的数据并返回结果
3. WHEN 步骤验证失败 THEN 系统应该阻止用户进入下一步
4. WHEN 向导取消或完成 THEN 系统应该正确触发回调和事件

### 需求 4: 向后兼容性和自定义灵活性

**用户故事:** 作为现有用户，我希望新的简化架构不会破坏我现有的向导实现，同时当我需要高度自定义的向导界面时，仍然可以使用现有的方式创建完全自定义的向导。

#### 验收标准

1. WHEN 现有代码使用旧的API THEN 系统应该继续正常工作
2. WHEN 开发者选择使用新的简化API THEN 系统应该与旧API并存
3. WHEN 系统升级 THEN 现有的自定义WizardDialogView和ViewModel应该继续工作
4. WHEN 开发者需要高度自定义的向导界面 THEN 系统应该仍然支持创建自定义的WizardDialogView和继承WizardDialogViewModel
5. WHEN 开发者需要特殊的向导布局或交互 THEN 系统应该允许完全重写向导界面而不受简化API限制

### 需求 5: 改进的开发体验

**用户故事:** 作为开发者，我希望新的API更加直观和易用，这样可以快速创建向导而不需要了解复杂的继承关系。

#### 验收标准

1. WHEN 开发者查看API文档 THEN 应该能够在5分钟内理解如何创建基本向导
2. WHEN 开发者创建简单向导 THEN 应该只需要编写步骤ViewModels和对应的DataTemplates
3. WHEN 开发者需要自定义向导行为 THEN 系统应该提供清晰的扩展点而不需要重写整个对话框
4. WHEN 开发者需要完全自定义的向导界面 THEN 系统应该提供清晰的指导如何使用传统方式创建自定义向导

### 需求 6: 灵活的架构选择

**用户故事:** 作为开发者，我希望能够根据项目需求选择合适的向导创建方式，简单场景使用简化API，复杂场景使用完全自定义的方式。

#### 验收标准

1. WHEN 向导需求简单且使用标准布局 THEN 开发者应该能够使用简化的API快速创建
2. WHEN 向导需要特殊的视觉设计或交互模式 THEN 开发者应该能够创建完全自定义的向导视图
3. WHEN 向导需要特殊的数据处理逻辑 THEN 开发者应该能够继承和扩展WizardDialogViewModel
4. WHEN 项目中同时存在简单和复杂向导 THEN 两种方式应该能够和谐共存